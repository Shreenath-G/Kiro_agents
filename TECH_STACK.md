# Built With: Complete Technology Stack

## üéØ Overview

Kiro_Agents is built entirely on AWS using a modern serverless architecture with AI/ML services, Infrastructure as Code, and production-ready best practices.

---

## ‚òÅÔ∏è Cloud Platform

### **Amazon Web Services (AWS)**
- **Primary Cloud Provider** - All infrastructure runs on AWS
- **Region**: us-east-1 (configurable)
- **Account**: Production-ready multi-account setup supported

---

## ü§ñ AI/ML Services

### **Amazon Bedrock**
- **Amazon Bedrock Agents** - Core agent framework for orchestrating LLM with tools
- **Amazon Bedrock Nova Pro** (`amazon.nova-pro-v1:0`) - Advanced reasoning LLM
  - Multi-step task decomposition
  - Strategic decision-making
  - Context understanding
  - Natural language generation

**Why Nova Pro?**
- Superior reasoning capabilities vs other models
- Optimized for agent workflows
- Cost-effective ($0.008 per 1K input tokens)
- Native AWS integration

---

## üíª Programming Languages

### **Python 3.12**
- **Lambda Functions** - All 5 tools written in Python
- **Test Scripts** - `test-agent.py`, `interactive-demo.py`
- **Total Lines**: ~3,500 lines of Python code

**Libraries Used:**
```python
import boto3              # AWS SDK for Python
import json               # JSON parsing
import os                 # Environment variables
from datetime import datetime, timedelta
from decimal import Decimal
from boto3.dynamodb.conditions import Key
import statistics         # Statistical analysis
import random            # Simulation data
```

### **TypeScript**
- **Infrastructure as Code** - AWS CDK stack definitions
- **Total Lines**: ~600 lines of TypeScript

**Frameworks:**
```typescript
import * as cdk from 'aws-cdk-lib';
import * as s3 from 'aws-cdk-lib/aws-s3';
import * as lambda from 'aws-cdk-lib/aws-lambda';
import * as iam from 'aws-cdk-lib/aws-iam';
import * as bedrock from 'aws-cdk-lib/aws-bedrock';
import * as dynamodb from 'aws-cdk-lib/aws-dynamodb';
import * as secretsmanager from 'aws-cdk-lib/aws-secretsmanager';
```

### **Bash**
- **Deployment Scripts** - `deploy.sh`, `check-prerequisites.sh`
- **Automation** - Prerequisites checking, deployment automation

### **Markdown**
- **Documentation** - 15+ comprehensive documentation files
- **Total Lines**: ~10,000 lines of documentation

---

## üèóÔ∏è Infrastructure as Code

### **AWS Cloud Development Kit (CDK) v2.170.0**
- **Language**: TypeScript
- **Purpose**: Define all AWS infrastructure as code
- **Benefits**:
  - Type-safe infrastructure definitions
  - Reusable constructs
  - Automated CloudFormation generation
  - Easy testing and validation

**Key CDK Constructs Used:**
```typescript
- cdk.Stack                    // Base stack
- s3.Bucket                    // S3 buckets
- lambda.Function              // Lambda functions
- dynamodb.Table               // DynamoDB tables
- bedrock.CfnAgent             // Bedrock Agent
- bedrock.CfnAgentActionGroup  // Action Groups
- iam.Role                     // IAM roles
- secretsmanager.Secret        // Secrets Manager
```

### **AWS CloudFormation**
- **Generated by CDK** - Underlying deployment mechanism
- **Stack Management** - Automated resource provisioning
- **Rollback Support** - Automatic rollback on failures

---

## üîß AWS Compute Services

### **AWS Lambda**
- **Runtime**: Python 3.12
- **Functions**: 5 serverless functions
- **Memory**: 512MB - 1024MB per function
- **Timeout**: 30-90 seconds
- **Concurrency**: Auto-scaling up to 1,000 concurrent executions

**Lambda Functions:**
1. **GoogleAdsFunction** - Google Ads API integration
2. **MetaAdsFunction** - Meta Ads API integration
3. **AnalyticsFunction** - Performance analysis
4. **BudgetOptimizerFunction** - Budget optimization
5. **StorageFunction** - Campaign insights storage

**Configuration:**
```typescript
const googleAdsFunction = new lambda.Function(this, 'GoogleAdsFunction', {
  runtime: lambda.Runtime.PYTHON_3_12,
  handler: 'index.handler',
  code: lambda.Code.fromAsset(path.join(__dirname, '../lambda/google-ads')),
  timeout: cdk.Duration.seconds(60),
  memorySize: 512,
  environment: {
    BUCKET_NAME: campaignDataBucket.bucketName,
    METRICS_TABLE: metricsTable.tableName,
    SECRETS_ARN: apiKeysSecret.secretArn,
  },
});
```

---

## üíæ Databases & Storage

### **Amazon DynamoDB**
- **Type**: NoSQL database
- **Table**: `ad-optimizer-metrics`
- **Billing Mode**: Pay-per-request (on-demand)
- **Features**:
  - Point-in-time recovery enabled
  - Time-to-live (TTL) for automatic data cleanup
  - Global secondary indexes (if needed)

**Schema:**
```python
{
  'campaignId': 'goog-camp-001',      # Partition Key
  'timestamp': 1234567890,             # Sort Key
  'impressions': Decimal('45000'),
  'clicks': Decimal('2250'),
  'conversions': Decimal('180'),
  'cost': Decimal('1450'),
  'ctr': Decimal('5.0'),
  'cpa': Decimal('8.06'),
  'roas': Decimal('6.21'),
  'ttl': 1234567890 + (90 * 24 * 60 * 60)  # 90 days
}
```

### **Amazon S3**
- **Bucket**: `ad-optimizer-data-{account-id}`
- **Purpose**: Campaign data, insights, decision logs
- **Features**:
  - Versioning enabled
  - Server-side encryption (SSE-S3)
  - Lifecycle policies (transition to IA after 30 days)
  - Auto-delete after 90 days

**Directory Structure:**
```
s3://ad-optimizer-data-{account}/
‚îú‚îÄ‚îÄ insights/
‚îÇ   ‚îú‚îÄ‚îÄ optimization-2024-01-15.json
‚îÇ   ‚îú‚îÄ‚îÄ decision-log-2024-01-16.json
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ campaigns/
    ‚îú‚îÄ‚îÄ goog-camp-001/
    ‚îî‚îÄ‚îÄ meta-camp-001/
```

---

## üîê Security Services

### **AWS Secrets Manager**
- **Secret**: `ad-optimizer/api-keys`
- **Purpose**: Securely store API credentials
- **Encryption**: AWS KMS encryption at rest
- **Rotation**: Supports automatic rotation

**Stored Credentials:**
```json
{
  "googleAdsClientId": "...",
  "googleAdsClientSecret": "...",
  "googleAdsRefreshToken": "...",
  "googleAdsDeveloperToken": "...",
  "metaAccessToken": "...",
  "metaAdAccountId": "..."
}
```

### **AWS Identity and Access Management (IAM)**
- **Roles**: 6 IAM roles created
  - BedrockAgentRole
  - GoogleAdsFunctionRole
  - MetaAdsFunctionRole
  - AnalyticsFunctionRole
  - BudgetOptimizerFunctionRole
  - StorageFunctionRole

**Policies**: Least privilege access
```typescript
const agentRole = new iam.Role(this, 'BedrockAgentRole', {
  assumedBy: new iam.ServicePrincipal('bedrock.amazonaws.com'),
  managedPolicies: [
    iam.ManagedPolicy.fromAwsManagedPolicyName('AmazonBedrockFullAccess'),
  ],
});

googleAdsFunction.grantInvoke(agentRole);
```

---

## üìä Monitoring & Logging

### **Amazon CloudWatch**
- **Logs**: All Lambda function logs
- **Metrics**: Custom metrics for campaign performance
- **Alarms**: (Future) Alert on critical issues
- **Dashboards**: (Future) Real-time performance visualization

**Log Groups:**
```
/aws/lambda/AdOptimizerAgentStack-GoogleAdsFunction
/aws/lambda/AdOptimizerAgentStack-MetaAdsFunction
/aws/lambda/AdOptimizerAgentStack-AnalyticsFunction
/aws/lambda/AdOptimizerAgentStack-BudgetOptimizerFunction
/aws/lambda/AdOptimizerAgentStack-StorageFunction
```

### **AWS X-Ray** (Optional)
- **Tracing**: Distributed tracing for debugging
- **Performance**: Identify bottlenecks

---

## üîå APIs & Integrations

### **Amazon Bedrock Agent Runtime API**
- **Purpose**: Invoke the agent and stream responses
- **SDK**: `boto3` (AWS SDK for Python)

```python
client = boto3.client('bedrock-agent-runtime')
response = client.invoke_agent(
    agentId=agent_id,
    agentAliasId=agent_alias_id,
    sessionId=session_id,
    inputText=prompt
)
```

### **Google Ads API** (Future Integration)
- **Version**: v15
- **SDK**: `google-ads-python`
- **Authentication**: OAuth 2.0
- **Endpoints**:
  - Campaign Service
  - Ad Group Service
  - Ad Service
  - Reporting Service

### **Meta Marketing API** (Future Integration)
- **Version**: v18.0
- **SDK**: `facebook-business-sdk`
- **Authentication**: Access Token
- **Endpoints**:
  - Campaign API
  - Ad Set API
  - Ad Creative API
  - Insights API

### **OpenAPI 3.0 Specifications**
- **Purpose**: Define tool interfaces for Bedrock Agent
- **Format**: JSON embedded in CDK
- **Tools**: 5 action groups with complete OpenAPI specs

**Example:**
```typescript
apiSchema: {
  payload: JSON.stringify({
    openapi: '3.0.0',
    info: {
      title: 'Google Ads Management API',
      version: '1.0.0',
    },
    paths: {
      '/campaigns': {
        get: {
          summary: 'Get list of campaigns',
          operationId: 'getGoogleCampaigns',
          responses: {
            '200': {
              description: 'List of campaigns',
            },
          },
        },
      },
    },
  }),
}
```

---

## üõ†Ô∏è Development Tools

### **Node.js v18+**
- **Package Manager**: npm
- **Purpose**: CDK development and deployment

**Dependencies:**
```json
{
  "dependencies": {
    "@aws-sdk/client-bedrock-agent": "^3.700.0",
    "@aws-sdk/client-bedrock-agent-runtime": "^3.700.0",
    "@aws-sdk/client-bedrock-runtime": "^3.700.0",
    "@aws-sdk/client-s3": "^3.700.0",
    "@aws-sdk/client-dynamodb": "^3.700.0",
    "@aws-sdk/client-secrets-manager": "^3.700.0",
    "aws-cdk-lib": "^2.170.0",
    "constructs": "^10.0.0"
  },
  "devDependencies": {
    "@types/node": "^22.0.0",
    "aws-cdk": "^2.170.0",
    "typescript": "^5.7.0"
  }
}
```

### **AWS CLI v2**
- **Purpose**: AWS resource management
- **Commands**: Deploy, configure, test

### **Git**
- **Version Control**: Source code management
- **Platform**: GitHub (recommended)

### **Visual Studio Code / Kiro IDE**
- **Editor**: Primary development environment
- **Extensions**: 
  - AWS Toolkit
  - Python
  - TypeScript
  - Markdown

---

## üì¶ Package Managers

### **npm (Node Package Manager)**
- **Version**: Latest
- **Purpose**: Manage TypeScript/CDK dependencies

### **pip (Python Package Installer)**
- **Version**: Latest
- **Purpose**: Manage Python dependencies (boto3)

---

## üß™ Testing Tools

### **Python unittest** (Built-in)
- **Purpose**: Unit testing Lambda functions
- **Framework**: Standard Python testing

### **AWS CDK Testing**
- **Purpose**: Test infrastructure definitions
- **Framework**: CDK assertions

### **Custom Test Scripts**
```python
# test-agent.py - Automated test suite
# interactive-demo.py - Interactive testing
```

---

## üìù Documentation Tools

### **Markdown**
- **Format**: All documentation in Markdown
- **Files**: 15+ comprehensive docs

### **LaTeX (via Markdown)**
- **Purpose**: Mathematical formulas
- **Example**: 
```latex
$$B_i = B_{total} \times \left(\alpha \times \frac{1}{n} + (1-\alpha) \times \frac{ROAS_i}{\sum_{j=1}^{n} ROAS_j}\right)$$
```

---

## üåê Protocols & Standards

### **HTTPS/TLS**
- **Encryption**: All API calls encrypted in transit
- **Certificates**: AWS-managed certificates

### **JSON**
- **Data Format**: All API requests/responses
- **Configuration**: CDK configurations

### **REST API**
- **Architecture**: RESTful design for tool interfaces
- **Methods**: GET, POST

### **OAuth 2.0** (Future)
- **Authentication**: Google Ads and Meta Ads APIs

---

## üè¢ Architecture Patterns

### **Serverless Architecture**
- **Pattern**: Event-driven, serverless functions
- **Benefits**: Auto-scaling, pay-per-use, no server management

### **Microservices**
- **Pattern**: Each tool is an independent service
- **Benefits**: Loose coupling, independent deployment

### **Infrastructure as Code (IaC)**
- **Pattern**: All infrastructure defined in code
- **Benefits**: Version control, reproducibility, automation

### **Event-Driven Architecture**
- **Pattern**: Lambda functions triggered by events
- **Benefits**: Decoupling, scalability

---

## üìä Data Formats

### **JSON**
- **Primary Format**: All data exchange
- **Use Cases**: API requests, responses, storage

### **Markdown**
- **Documentation**: All docs in Markdown format

### **TypeScript**
- **Infrastructure**: CDK definitions

### **Python**
- **Lambda Functions**: All business logic

---

## üîÑ CI/CD (Future)

### **AWS CodePipeline** (Planned)
- **Purpose**: Automated deployment pipeline

### **AWS CodeBuild** (Planned)
- **Purpose**: Build and test automation

### **GitHub Actions** (Planned)
- **Purpose**: CI/CD workflows

---

## üí∞ Cost Management

### **AWS Cost Explorer**
- **Monitoring**: Track spending
- **Budgets**: Set spending limits

### **AWS Budgets**
- **Alerts**: Get notified of cost overruns

---

## üìà Performance Optimization

### **Lambda Optimization**
- **Memory**: Right-sized (512MB-1024MB)
- **Timeout**: Optimized (30-90s)
- **Cold Start**: Python 3.12 for fast starts

### **DynamoDB Optimization**
- **Billing**: Pay-per-request (no idle costs)
- **TTL**: Automatic data cleanup
- **Indexes**: Efficient queries

### **S3 Optimization**
- **Lifecycle**: Transition to cheaper storage
- **Versioning**: Only when needed
- **Compression**: JSON compression

---

## üîí Security Best Practices

### **Encryption**
- **At Rest**: S3 (SSE-S3), DynamoDB (AWS-managed)
- **In Transit**: TLS 1.2+

### **Access Control**
- **IAM**: Least privilege roles
- **Secrets**: Encrypted in Secrets Manager
- **Network**: VPC isolation (optional)

### **Audit**
- **CloudTrail**: All API calls logged
- **CloudWatch**: All function logs retained

---

## üìö Key Technologies Summary

| Category | Technology | Version | Purpose |
|----------|-----------|---------|---------|
| **Cloud Platform** | AWS | - | Primary cloud provider |
| **AI/ML** | Amazon Bedrock | - | Agent framework |
| **AI/ML** | Nova Pro | v1:0 | Reasoning LLM |
| **Compute** | AWS Lambda | Python 3.12 | Serverless functions |
| **Database** | DynamoDB | - | NoSQL metrics storage |
| **Storage** | S3 | - | Object storage |
| **Security** | Secrets Manager | - | Credential storage |
| **Security** | IAM | - | Access control |
| **IaC** | AWS CDK | 2.170.0 | Infrastructure as Code |
| **Language** | Python | 3.12 | Lambda functions |
| **Language** | TypeScript | 5.7.0 | CDK definitions |
| **Language** | Bash | - | Deployment scripts |
| **Monitoring** | CloudWatch | - | Logs and metrics |
| **API** | OpenAPI | 3.0 | Tool specifications |
| **SDK** | boto3 | Latest | AWS SDK for Python |
| **SDK** | AWS SDK JS | 3.700.0 | AWS SDK for JavaScript |

---

## üéØ Why These Technologies?

### **AWS Bedrock Nova Pro**
- ‚úÖ Advanced reasoning capabilities
- ‚úÖ Native AWS integration
- ‚úÖ Cost-effective
- ‚úÖ Optimized for agent workflows

### **AWS Lambda**
- ‚úÖ Serverless (no server management)
- ‚úÖ Auto-scaling
- ‚úÖ Pay-per-use
- ‚úÖ Fast cold starts with Python 3.12

### **DynamoDB**
- ‚úÖ Fast queries (< 10ms)
- ‚úÖ Auto-scaling
- ‚úÖ TTL for automatic cleanup
- ‚úÖ Pay-per-request billing

### **S3**
- ‚úÖ Unlimited storage
- ‚úÖ Lifecycle policies
- ‚úÖ Versioning
- ‚úÖ Extremely durable (99.999999999%)

### **AWS CDK**
- ‚úÖ Type-safe infrastructure
- ‚úÖ Reusable constructs
- ‚úÖ Easy testing
- ‚úÖ Automated CloudFormation

### **Python**
- ‚úÖ Rich ecosystem (boto3, statistics)
- ‚úÖ Easy to read and maintain
- ‚úÖ Fast Lambda cold starts
- ‚úÖ Great for data processing

---

## üöÄ Deployment Stack

```bash
# Local Development
‚îú‚îÄ‚îÄ Node.js 18+
‚îú‚îÄ‚îÄ Python 3.9+
‚îú‚îÄ‚îÄ AWS CLI v2
‚îú‚îÄ‚îÄ npm
‚îî‚îÄ‚îÄ Git

# AWS Infrastructure
‚îú‚îÄ‚îÄ Amazon Bedrock (Nova Pro)
‚îú‚îÄ‚îÄ AWS Lambda (5 functions)
‚îú‚îÄ‚îÄ Amazon DynamoDB (1 table)
‚îú‚îÄ‚îÄ Amazon S3 (1 bucket)
‚îú‚îÄ‚îÄ AWS Secrets Manager (1 secret)
‚îú‚îÄ‚îÄ AWS IAM (6 roles)
‚îî‚îÄ‚îÄ AWS CloudFormation (1 stack)

# Deployment
‚îî‚îÄ‚îÄ AWS CDK (TypeScript)
```

---

**Total Technologies Used: 25+**

This comprehensive tech stack enables Kiro_Agents to be:
- ‚úÖ **Scalable** - Auto-scaling serverless architecture
- ‚úÖ **Secure** - Encryption, IAM, Secrets Manager
- ‚úÖ **Cost-Effective** - Pay-per-use, ~$25/month
- ‚úÖ **Reliable** - AWS managed services, 99.99% uptime
- ‚úÖ **Maintainable** - Infrastructure as Code, comprehensive docs
- ‚úÖ **Production-Ready** - Best practices, monitoring, logging

üéØ **Built entirely on AWS with modern serverless architecture!**
